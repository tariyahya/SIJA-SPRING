<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<DialogPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            prefWidth="500" prefHeight="550">
    
    <content>
        <VBox spacing="15" style="-fx-padding: 20;">
            
            <!-- Username -->
            <VBox spacing="5">
                <Label text="Username *" style="-fx-font-weight: bold;"/>
                <TextField fx:id="usernameField" promptText="Enter username (min 3 characters)"/>
                <Label fx:id="usernameError" styleClass="error-text" visible="false" managed="false"/>
            </VBox>
            
            <!-- Email -->
            <VBox spacing="5">
                <Label text="Email *" style="-fx-font-weight: bold;"/>
                <TextField fx:id="emailField" promptText="Enter email address"/>
                <Label fx:id="emailError" styleClass="error-text" visible="false" managed="false"/>
            </VBox>
            
            <!-- Password (only for new user) -->
            <VBox spacing="5" fx:id="passwordBox">
                <Label text="Password *" style="-fx-font-weight: bold;"/>
                <PasswordField fx:id="passwordField" promptText="Enter password (min 6 characters)"/>
                <Label fx:id="passwordError" styleClass="error-text" visible="false" managed="false"/>
            </VBox>
            
            <!-- Nama -->
            <VBox spacing="5">
                <Label text="Nama Lengkap *" style="-fx-font-weight: bold;"/>
                <TextField fx:id="namaField" promptText="Enter full name"/>
                <Label fx:id="namaError" styleClass="error-text" visible="false" managed="false"/>
            </VBox>
            
            <!-- Role -->
            <VBox spacing="5">
                <Label text="Role *" style="-fx-font-weight: bold;"/>
                <ComboBox fx:id="roleComboBox" prefWidth="Infinity" promptText="Select role">
                    <items>
                        <FXCollections fx:factory="observableArrayList">
                            <String fx:value="ADMIN"/>
                            <String fx:value="USER"/>
                        </FXCollections>
                    </items>
                </ComboBox>
                <Label fx:id="roleError" styleClass="error-text" visible="false" managed="false"/>
            </VBox>
            
            <!-- Tipe -->
            <VBox spacing="5">
                <Label text="Tipe *" style="-fx-font-weight: bold;"/>
                <ComboBox fx:id="tipeComboBox" prefWidth="Infinity" promptText="Select tipe">
                    <items>
                        <FXCollections fx:factory="observableArrayList">
                            <String fx:value="GURU"/>
                            <String fx:value="SISWA"/>
                        </FXCollections>
                    </items>
                </ComboBox>
                <Label fx:id="tipeError" styleClass="error-text" visible="false" managed="false"/>
            </VBox>
            
            <!-- RFID Card ID -->
            <VBox spacing="5">
                <Label text="RFID Card ID" style="-fx-font-weight: bold;"/>
                <TextField fx:id="rfidCardIdField" promptText="Enter RFID card ID (optional)"/>
                <Label text="Leave empty if not using RFID" style="-fx-font-size: 10px; -fx-text-fill: #666;"/>
            </VBox>
            
            <!-- Enabled -->
            <HBox spacing="10" alignment="CENTER_LEFT">
                <CheckBox fx:id="enabledCheckBox" text="User Enabled" selected="true"/>
                <Label text="(Uncheck to disable user access)" style="-fx-font-size: 10px; -fx-text-fill: #666;"/>
            </HBox>
            
            <Label text="* Required fields" style="-fx-font-size: 10px; -fx-text-fill: #999;"/>
            
        </VBox>
    </content>
    
    <buttonTypes>
        <ButtonType fx:constant="CANCEL"/>
        <ButtonType fx:constant="OK" buttonData="OK_DONE" text="Save"/>
    </buttonTypes>
    
</DialogPane>
